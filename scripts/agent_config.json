{
  "agentName": "OliveOilPricingAssistant",
  "description": "AI assistant for olive oil price forecasting and market analysis",
  "instruction": "You are an expert olive oil market analyst assistant. Help users understand olive oil pricing, forecasts, and market trends. You have access to tools that provide:\n\n1. Price forecasts for different countries and grades\n2. Market comparisons across regions and product types\n3. Analysis of price drivers (exchange rates, freight costs, diesel prices)\n4. Interactive chart generation\n\nWhen users ask questions:\n- Be conversational and helpful\n- Explain pricing trends in simple terms\n- Provide specific numbers and data when available\n- Suggest relevant visualizations\n- Focus on actionable insights\n\nYou cannot:\n- Retrain models (admin only)\n- Modify data or configurations\n- Access sensitive operational details\n\nAlways be clear about forecast uncertainty and confidence intervals.",
  "foundationModel": "anthropic.claude-3-sonnet-20240229-v1:0",
  "idleSessionTTLInSeconds": 600,
  "actionGroups": [
    {
      "actionGroupName": "ForecastingTools",
      "description": "Tools for price forecasting and predictions",
      "actionGroupExecutor": {
        "lambda": "arn:aws:lambda:us-east-1:006363897224:function:olive-forecast-tool"
      },
      "apiSchema": {
        "payload": {
          "openapi": "3.0.0",
          "info": {
            "title": "Forecasting API",
            "version": "1.0.0"
          },
          "paths": {
            "/forecast": {
              "post": {
                "summary": "Get price forecast",
                "description": "Returns price forecasts for specified country, grade, and time period",
                "operationId": "getForecast",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "country": {
                            "type": "string",
                            "description": "Country name (Italy, Spain, Greece, Tunisia)",
                            "enum": ["Italy", "Spain", "Greece", "Tunisia"]
                          },
                          "grade": {
                            "type": "string",
                            "description": "Olive oil grade",
                            "enum": ["EVOO", "VOO", "LAMPANTE", "REFINED"]
                          },
                          "weeks_ahead": {
                            "type": "integer",
                            "description": "Number of weeks to forecast",
                            "default": 12
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Forecast data"
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "actionGroupName": "MarketAnalysisTools",
      "description": "Tools for market comparison and analysis",
      "actionGroupExecutor": {
        "lambda": "arn:aws:lambda:us-east-1:006363897224:function:olive-market-comparison-tool"
      },
      "apiSchema": {
        "payload": {
          "openapi": "3.0.0",
          "info": {
            "title": "Market Analysis API",
            "version": "1.0.0"
          },
          "paths": {
            "/compare": {
              "post": {
                "summary": "Compare markets",
                "description": "Compare prices across countries, markets, or grades",
                "operationId": "compareMarkets",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "comparison_type": {
                            "type": "string",
                            "description": "What to compare",
                            "enum": ["country", "market", "grade"]
                          },
                          "time_period": {
                            "type": "string",
                            "description": "Time period for comparison",
                            "enum": ["recent", "last_month", "last_quarter", "last_year"]
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Comparison data"
                  }
                }
              }
            },
            "/drivers": {
              "post": {
                "summary": "Analyze price drivers",
                "description": "Analyze what factors are driving price changes",
                "operationId": "analyzePriceDrivers",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "time_period": {
                            "type": "string",
                            "description": "Time period to analyze",
                            "enum": ["recent", "last_month", "last_quarter"]
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Price driver analysis"
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "actionGroupName": "VisualizationTools",
      "description": "Tools for generating charts and visualizations",
      "actionGroupExecutor": {
        "lambda": "arn:aws:lambda:us-east-1:006363897224:function:olive-chart-generator-tool"
      },
      "apiSchema": {
        "payload": {
          "openapi": "3.0.0",
          "info": {
            "title": "Visualization API",
            "version": "1.0.0"
          },
          "paths": {
            "/chart": {
              "post": {
                "summary": "Generate chart data",
                "description": "Generate interactive chart data for frontend",
                "operationId": "generateChart",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "chart_type": {
                            "type": "string",
                            "description": "Type of chart to generate",
                            "enum": ["forecast", "historical", "comparison", "drivers"]
                          },
                          "country": {
                            "type": "string",
                            "description": "Optional country filter"
                          },
                          "grade": {
                            "type": "string",
                            "description": "Optional grade filter"
                          },
                          "weeks": {
                            "type": "integer",
                            "description": "Time range in weeks",
                            "default": 52
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Chart data in Plotly format"
                  }
                }
              }
            }
          }
        }
      }
    }
  ]
}
